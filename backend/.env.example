# Phase III: Todo AI Chatbot Environment Configuration
# T001-T006: Project Setup - Environment Variables

# ============================================================================
# FastAPI Application Configuration
# ============================================================================
ENV=development
DEBUG=true
APP_NAME=Todo AI Chatbot
APP_VERSION=3.0.0

# ============================================================================
# Database Configuration (T007-T013: Database Foundation)
# ============================================================================
# PostgreSQL connection (prod) or SQLite fallback (dev)
# Format: postgresql+asyncpg://user:password@localhost:5432/todo_db
# If empty or contains 'postgresql', will fallback to SQLite
DATABASE_URL=

# ============================================================================
# OpenAI Configuration (T020-T023: Agent Configuration)
# ============================================================================
# Required: Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Model selection: gpt-4-turbo, gpt-4o, or gpt-3.5-turbo
OPENAI_MODEL=gpt-4-turbo

# API request timeout (seconds)
OPENAI_TIMEOUT=30

# ============================================================================
# MCP Server Configuration (T014-T019: MCP Infrastructure)
# ============================================================================
# MCP server host and port (must match mcp_server/server.py)
MCP_SERVER_HOST=127.0.0.1
MCP_SERVER_PORT=8500

# MCP transport layer: stdio | http
MCP_SERVER_TRANSPORT=stdio

# ============================================================================
# Chat Service Configuration (T028-T042: Chat Endpoint)
# ============================================================================
# Maximum conversation history messages to load (prevents token explosion)
MAX_CONVERSATION_HISTORY=50

# Chat request timeout (seconds)
CHAT_REQUEST_TIMEOUT=30

# Maximum tokens for agent response
MAX_TOKENS=2048

# ============================================================================
# Security Configuration (T043-T046: Security & Authentication)
# ============================================================================
# JWT secret key (generate: python -c "import secrets; print(secrets.token_urlsafe(32))")
JWT_SECRET=your-secret-key-here-change-in-production

# JWT algorithm
JWT_ALGORITHM=HS256

# Better Auth secret (for Better Auth integration)
BETTER_AUTH_SECRET=your-secret-key-must-be-at-least-32-characters-long-replace-this

# ============================================================================
# CORS Configuration (T013: CORS Middleware)
# ============================================================================
# Frontend domain for CORS allowed origins
FRONTEND_DOMAIN=localhost:3000

# Production frontend domain (optional)
PRODUCTION_DOMAIN=

# ============================================================================
# Rate Limiting Configuration
# ============================================================================
# Requests per minute for chat endpoint
RATE_LIMIT_RPM=100

# ============================================================================
# Server Configuration
# ============================================================================
HOST=0.0.0.0
PORT=8000
ENVIRONMENT=development

# ============================================================================
# Development / Testing
# ============================================================================
# Enable verbose logging
LOG_LEVEL=INFO

# Enable database query logging
SQLALCHEMY_ECHO=false
