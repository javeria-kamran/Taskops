# Naz Todo - Project Overview

## Project Vision

An agentic todo application that evolves across five phases from a simple console app to a cloud-native AI-powered task management system, built entirely through spec-driven development with Claude Code and Spec-Kit Plus.

## Current Phase: Phase II - Full-Stack Web Application

**Status**: In Progress
**Target Date**: TBD
**Objective**: Transform the Phase I console application into a modern multi-user web application with persistent storage and authentication.

## Phase Evolution

### Phase I: Console Application âœ…
- **Status**: Completed
- **Features**: 5 basic CRUD operations (Create, View, Update, Delete, Mark Complete)
- **Storage**: In-memory
- **Interface**: Command-line menu
- **Users**: Single user
- **Tech**: Python 3.13+, UV, pytest

### Phase II: Web Application ðŸš§
- **Status**: In Progress
- **Features**: All Phase I features + web UI + authentication
- **Storage**: Neon PostgreSQL
- **Interface**: Responsive web application
- **Users**: Multi-user with authentication
- **Tech**: Next.js 16+, FastAPI, SQLModel, Better Auth

### Phase III: AI Chatbot (Planned)
- **Features**: All Phase II features + conversational AI interface
- **Interface**: Natural language via MCP tools
- **AI**: Claude with custom MCP server

### Phase IV: Kubernetes (Planned)
- **Deployment**: Local Kubernetes cluster
- **Orchestration**: K8s manifests, services, ingress

### Phase V: Cloud-Native (Planned)
- **Deployment**: Cloud platform (AWS/GCP/Azure)
- **Features**: Event streaming (Kafka), microservices (Dapr)

## Core Features (Phase II)

### 1. Task Management (Basic Level)
- Create tasks with title and description
- View all tasks in a list
- Update task details
- Delete tasks with confirmation
- Toggle task completion status

### 2. User Authentication
- User signup with email and password
- User signin with session management
- JWT token-based API authentication
- User-specific task isolation

### 3. Data Persistence
- PostgreSQL database via Neon Serverless
- Automatic schema migrations
- Relationship management (users â†” tasks)

### 4. Responsive UI
- Mobile-first design
- Desktop optimized layout
- Accessible components
- Loading and error states

## Technology Stack

### Frontend
- **Framework**: Next.js 16+ (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State**: React hooks, Server Components
- **Auth**: Better Auth (client-side)

### Backend
- **Framework**: FastAPI
- **Language**: Python 3.13+
- **ORM**: SQLModel
- **Validation**: Pydantic
- **Testing**: pytest, pytest-cov

### Database
- **Primary**: Neon Serverless PostgreSQL
- **Connection**: Connection pooling
- **Migrations**: Alembic (via SQLModel)

### Authentication
- **Library**: Better Auth
- **Method**: JWT tokens
- **Flow**: Session on frontend, token verification on backend
- **Secret**: Shared BETTER_AUTH_SECRET

### Infrastructure
- **Development**: Docker Compose
- **Frontend**: Node.js container
- **Backend**: Python container
- **Database**: Neon cloud (no local container)

## Development Approach

### Spec-Driven Development
1. **Write Specifications**: Define what to build in `/specs`
2. **Generate Plans**: Claude Code creates implementation plans
3. **Break into Tasks**: Plans broken into atomic tasks
4. **Implement**: Claude Code implements from tasks
5. **No Manual Coding**: All code generated by Claude Code

### Workflow
```
User Requirement
  â†’ Write Spec (@specs/features/[feature].md)
  â†’ Claude Code Reads Specs
  â†’ Claude Code Generates Plan
  â†’ Claude Code Implements Frontend + Backend
  â†’ User Tests
  â†’ Iterate on Spec if Needed
```

## Repository Structure

```
Naz Todo/
â”œâ”€â”€ .spec-kit/
â”‚   â””â”€â”€ config.yaml              # Spec-Kit configuration
â”œâ”€â”€ specs/
â”‚   â”œâ”€â”€ overview.md              # This file
â”‚   â”œâ”€â”€ architecture.md          # System design
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”œâ”€â”€ task-crud.md         # Task CRUD operations
â”‚   â”‚   â””â”€â”€ authentication.md    # User auth
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ rest-endpoints.md    # API contracts
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â””â”€â”€ schema.md            # Database design
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ components.md        # Component specs
â”‚       â””â”€â”€ pages.md             # Page specs
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ CLAUDE.md                # Frontend guidelines
â”‚   â””â”€â”€ ... (Next.js app)
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ CLAUDE.md                # Backend guidelines
â”‚   â””â”€â”€ ... (FastAPI app)
â”œâ”€â”€ src/                         # Phase I console app (preserved)
â”œâ”€â”€ CLAUDE.md                    # Root development guide
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

## Success Criteria (Phase II)

### Functional
- âœ… All 5 Basic Level task operations work via web UI
- âœ… Users can sign up and sign in
- âœ… Each user sees only their own tasks
- âœ… Data persists across sessions
- âœ… All API endpoints return correct responses

### Technical
- âœ… >80% test coverage (backend)
- âœ… No TypeScript errors (frontend)
- âœ… No Python linting errors (backend)
- âœ… Mobile responsive UI
- âœ… Proper error handling and loading states

### Security
- âœ… Passwords hashed (Better Auth handles this)
- âœ… JWT tokens validated on every API request
- âœ… User isolation enforced at database level
- âœ… No SQL injection vulnerabilities
- âœ… CORS properly configured

### Developer Experience
- âœ… All specs complete and accurate
- âœ… Clear CLAUDE.md instructions
- âœ… Docker Compose works first try
- âœ… Easy to add new features via specs

## Out of Scope (Phase II)

The following are explicitly NOT included in Phase II:
- Task categories/tags
- Task due dates or priorities
- Task sharing between users
- Email notifications
- Task search or filtering
- File attachments
- Comments on tasks
- AI features (reserved for Phase III)
- Kubernetes deployment (reserved for Phase IV)
- Cloud deployment (reserved for Phase V)

## Key Constraints

### Phase II Constraints
1. **Basic Level Only**: Implement only the 5 core CRUD operations
2. **No Advanced Features**: Keep it simple - just tasks, no extras
3. **Spec-Driven**: All code generated by Claude Code from specs
4. **Monorepo**: Frontend and backend in single repository
5. **Authentication Required**: Every API call must be authenticated

### Technical Constraints
1. **Next.js 16+**: Use App Router (not Pages Router)
2. **FastAPI**: No Flask or Django
3. **SQLModel**: Must use SQLModel (not raw SQLAlchemy or Django ORM)
4. **Neon PostgreSQL**: No local PostgreSQL or SQLite
5. **Better Auth**: Use Better Auth (not NextAuth, Clerk, or custom)

## Migration from Phase I

### What Gets Preserved
- Core business logic (task validation, CRUD operations)
- Test coverage approach (>80%)
- Project structure philosophy (models â†’ services â†’ interface)

### What Changes
- **Interface**: CLI â†’ Web UI
- **Storage**: In-memory â†’ PostgreSQL
- **Users**: Single â†’ Multiple with auth
- **Architecture**: Monolithic â†’ Client-server
- **Communication**: Direct calls â†’ REST API

### Migration Strategy
1. Keep Phase I code in `/src` (for reference)
2. Build Phase II fresh in `/frontend` and `/backend`
3. Port business logic from Phase I services to FastAPI
4. Re-implement UI as React components
5. Expand test suites for new features

## References

- [Next.js Documentation](https://nextjs.org/docs)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [SQLModel Documentation](https://sqlmodel.tiangolo.com/)
- [Better Auth Documentation](https://www.better-auth.com/docs)
- [Neon Documentation](https://neon.tech/docs)
- [Spec-Kit Plus](https://github.com/specify-kit/specify-kit)

## Document History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2024-12-28 | Initial Phase I overview |
| 2.0 | 2024-12-28 | Phase II specifications |
